<!DOCTYPE html>
<html class="dark" lang="pt-BR">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Bar Los Hermanos - Finalizar Pedido</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&family=Bebas+Neue&family=Poppins:wght@400;600&display=swap" rel="stylesheet"/>
    <!-- Material Symbols -->
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
    <!-- Custom Styles -->
    <link rel="stylesheet" href="assets/css/styles_new.css">
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#ff3131",
                        "background-light": "#f8f7f5",
                        "background-dark": "#000000",
                        "card-dark": "#1a130c",
                    },
                    fontFamily: {
                        "display": ["Plus Jakarta Sans", "sans-serif"],
                        "title": ["Bebas Neue", "cursive"],
                        "body": ["Poppins", "sans-serif"]
                    }
                },
            },
        }

        // Lógica de Persistência da Filial
        function setBranch(branch) {
            localStorage.setItem('selected-branch', branch);
            updateBranchUI();
        }

        function updateBranchUI() {
            const selected = localStorage.getItem('selected-branch') || 'Bairro';
            const btnBairro = document.getElementById('btn-branch-bairro');
            const btnCentro = document.getElementById('btn-branch-centro');

            if (selected === 'Bairro') {
                btnBairro.classList.add('border-primary', 'bg-primary/10', 'text-primary');
                btnBairro.classList.remove('border-white/10', 'bg-card-dark', 'text-slate-400');
                btnCentro.classList.add('border-white/10', 'bg-card-dark', 'text-slate-400');
                btnCentro.classList.remove('border-primary', 'bg-primary/10', 'text-primary');
            } else {
                btnCentro.classList.add('border-primary', 'bg-primary/10', 'text-primary');
                btnCentro.classList.remove('border-white/10', 'bg-card-dark', 'text-slate-400');
                btnBairro.classList.add('border-white/10', 'bg-card-dark', 'text-slate-400');
                btnBairro.classList.remove('border-primary', 'bg-primary/10', 'text-primary');
            }
        }

        document.addEventListener('DOMContentLoaded', updateBranchUI);
    </script>
</head>
<body class="bg-background-dark text-white h-screen flex flex-col overflow-hidden">
    <header class="shrink-0 flex items-center justify-between px-4 py-4 bg-background-dark z-10 border-b border-white/5">
        <button class="flex items-center justify-center w-10 h-10 rounded-full hover:bg-white/10 transition-colors" onclick="history.back()">
            <span class="material-symbols-outlined text-white">arrow_back</span>
        </button>
        <h1 class="text-lg font-bold tracking-tight">Finalizar Pedido</h1>
        <div class="w-10"></div>
    </header>

    <main class="flex-1 overflow-y-auto no-scrollbar pb-48">
        <div class="px-4 pt-6">
            <h2 class="text-[10px] font-bold uppercase tracking-widest text-[#8e7a65] mb-3 px-1">Selecione a Filial</h2>
            <div class="grid grid-cols-2 gap-3">
                <button id="btn-branch-bairro" onclick="setBranch('Bairro')" class="flex flex-col items-center justify-center p-3 rounded-2xl border-2 transition-all">
                    <span class="text-xs font-bold">Los Bairro</span>
                    <span class="text-[10px] opacity-70">Unidade Principal</span>
                </button>
                <button id="btn-branch-centro" onclick="setBranch('Centro')" class="flex flex-col items-center justify-center p-3 rounded-2xl border transition-all">
                    <span class="text-xs font-bold">Los Centro</span>
                    <span class="text-[10px] opacity-70">Unidade Centro</span>
                </button>
            </div>
        </div>

        <div class="px-4 py-6">
            <div class="flex p-1 bg-card-dark rounded-2xl">
                <button class="flex-1 py-3 px-4 rounded-xl text-sm font-bold bg-primary text-white shadow-sm">
                    Entrega
                </button>
                <button class="flex-1 py-3 px-4 rounded-xl text-sm font-bold text-[#8e7a65]">
                    Retirada
                </button>
            </div>
        </div>

        <div class="px-4 mb-8">
            <div class="bg-card-dark rounded-2xl p-4 border border-white/5">
                <div class="flex items-center justify-between mb-3">
                    <div class="flex items-center gap-2">
                        <span class="material-symbols-outlined text-primary text-xl">location_on</span>
                        <h3 class="text-sm font-bold">Endereço de Entrega</h3>
                    </div>
                    <button class="text-[10px] font-bold text-primary uppercase" onclick="window.location.href='address.html'">Alterar</button>
                </div>
                <div class="pl-7">
                    <p class="text-sm text-white font-medium">Rua das Flores, 123</p>
                    <p class="text-xs text-[#cbad90]">Centro - São Paulo</p>
                    <div class="mt-3 flex items-center gap-2 text-primary">
                        <span class="material-symbols-outlined text-sm">schedule</span>
                        <span class="text-xs font-bold">Prazo Estimado: 30-45 min</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Lista de Itens do Carrinho -->
        <div class="px-4 space-y-4" id="cart-items-container">
            <h2 class="text-sm font-bold uppercase tracking-wider text-[#8e7a65]">Seus Itens</h2>
            <!-- Itens serão injetados via JS ou permanecem estáticos para visualização -->
            <div class="space-y-6">
                <!-- Exemplo Estático -->
                <div class="flex items-center justify-between">
                    <div class="flex-1">
                        <h3 class="font-bold text-base">Hermanos Burger</h3>
                        <p class="text-xs text-[#cbad90] mt-0.5">Sem cebola, Queijo extra</p>
                        <p class="text-primary font-bold mt-1 text-sm">R$ 42,50</p>
                    </div>
                    <div class="flex items-center bg-card-dark rounded-full p-1 h-9">
                        <button class="w-8 h-full flex items-center justify-center rounded-full hover:bg-white/10">
                            <span class="material-symbols-outlined text-sm">remove</span>
                        </button>
                        <span class="w-8 text-center text-sm font-bold">1</span>
                        <button class="w-8 h-full flex items-center justify-center rounded-full bg-primary text-white">
                            <span class="material-symbols-outlined text-sm">add</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="px-4 mt-10">
            <div class="bg-primary/10 border border-primary/30 rounded-2xl p-4 flex items-center gap-4">
                <div class="bg-primary rounded-full p-2 text-white shrink-0">
                    <span class="material-symbols-outlined" style="font-size: 20px;">payments</span>
                </div>
                <div>
                    <p class="text-primary font-bold text-sm">Pague na entrega</p>
                    <p class="text-xs text-primary/80">(Cartão ou Dinheiro)</p>
                </div>
            </div>
        </div>

        <div class="px-4 mt-8 space-y-3 pb-10">
            <div class="flex justify-between items-center text-sm">
                <span class="text-[#cbad90]">Subtotal</span>
                <span class="font-medium text-white">R$ 42,50</span>
            </div>
            <div class="flex justify-between items-center text-sm">
                <span class="text-[#cbad90]">Taxa de Entrega</span>
                <span class="font-medium text-white">R$ 5,00</span>
            </div>
            <div class="flex justify-between items-center text-sm">
                <span class="text-[#cbad90]">Desconto</span>
                <span class="font-medium text-green-500">- R$ 0,00</span>
            </div>
        </div>
    </main>

    <div class="fixed bottom-0 left-0 right-0 z-50 bg-background-dark border-t border-white/5 px-4 pt-4 pb-8">
        <div class="flex justify-between items-end mb-4 px-1">
            <div>
                <p class="text-xs text-[#8e7a65] font-medium uppercase tracking-widest">Total</p>
                <p class="text-3xl font-bold text-primary">R$ 47,50</p>
            </div>
            <div class="text-right">
                <div class="flex items-center gap-1 text-green-500 mb-0.5">
                    <span class="material-symbols-outlined text-[14px]">bolt</span>
                    <p class="text-[10px] font-bold uppercase">Entrega Rápida</p>
                </div>
                <p class="text-[10px] text-[#8e7a65]">30-45 min</p>
            </div>
        </div>
        <button class="w-full bg-primary hover:bg-red-700 active:scale-[0.98] transition-all text-white font-bold rounded-2xl py-5 shadow-xl shadow-red-900/30 flex justify-center items-center gap-2">
            <span>Finalizar Pedido</span>
            <span class="material-symbols-outlined" style="font-size: 20px;">check_circle</span>
        </button>
    </div>

    <!-- Global Navigation -->
    <script src="assets/js/navbar.js"></script>
    <!-- Cart Logic Integration -->
    <script src="assets/js/orders.js"></script>
</body>
</html>
